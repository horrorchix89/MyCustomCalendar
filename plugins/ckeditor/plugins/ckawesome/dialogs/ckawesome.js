CKEDITOR.dialog.add("ckawesomeDialog",function(t){function e(t){if(!t.id)return t.text;var e=t.text.replace(/fa-|\.|\-/gi," ");return $('<span class="ckawesome_options"><i class="fa '+t.element.value+' fa-fw"></i> '+e+"</span>")}return{title:"Insert CKAwesome",minWidth:200,minHeight:200,contents:[{id:"options",label:"Basic Settings",elements:[{type:"select",id:"ckawesomebox",label:"Select font Awesome",validate:CKEDITOR.dialog.validate.notEmpty("Font Awesome field cannot be empty."),items:[[t.lang.common.notSet,""]],onLoad:function(){!function(e){var o=t.fontawesomePath;$.ajax({url:o,type:"get",dataType:"html",async:!1,success:function(t){var o=".fa. .fa .fa-lg .fa-2x .fa-3x .fa-4x .fa-5x .fa-fw .fa-ul .fa-ul> .fa-li .fa-border .fa-pull-left .fa-pull-right .fa-spin .fa-pulse .fa-rotate-90 .fa-rotate-180 .fa-rotate-270 .fa-flip-horizontal .fa-flip-vertical .fa-stack .fa-stack-1x .fa-stack-2x .fa-inverse".split(" ");(t=t.match(new RegExp(/\.[a-zA-Z_][\w-_]*[^\.\s\{#:\,;]/,"g"))).sort(),$.each(t,function(t,n){"fa"!=n.substring(0,3).substring(1)||0<o.indexOf(n)||(n=n.substring(1),e.add(n,n))})},error:function(t,e){alert("Error loading Font Awesome css: \n"+o)}})}(this);var o=$("#"+this.getInputElement().getAttribute("id"));$(o).select2({width:"100%",templateResult:e,templateSelection:e})},onShow:function(){var t=$("#"+this.getInputElement().getAttribute("id"));$(t).val("").trigger("change")}},{type:"select",id:"textsize",label:"Select  size",items:[[t.lang.common.notSet,""]],onLoad:function(t){!function(t,e,o,n){var a=[],i=e;for(a.push(e),n=0<n?n:5,e=0;e<n;e++)i+=o,a.push(i);$.each(a,function(e,o){t.add(o,o)})}(this,8,1,42)}},{type:"hbox",padding:0,widths:["80%","20%"],children:[{id:"fontcolor",type:"text",label:"Select color",onChange:function(t){(t=$("#"+this.getInputElement().getAttribute("id"))).css("background-color",t.val())},onKeyUp:function(t){(t=$("#"+this.getInputElement().getAttribute("id"))).css("background-color",t.val())},onShow:function(){$("#"+this.getInputElement().getAttribute("id")).css("background-color","")}},{type:"button",id:"fontcolorChooser",class:"colorChooser",label:"Color",style:"margin-left: 8px",onLoad:function(){this.getElement().getParent().setStyle("vertical-align","bottom")},onClick:function(){t.getColorFromDialog(function(t){t&&this.getDialog().getContentElement("options","fontcolor").setValue(t),this.focus()},this)}}]}]}],onOk:function(){var e=t.document.createElement("i"),o=this.getValueOf("options","textsize"),n=this.getValueOf("options","fontcolor"),a="fa fa-fw "+this.getValueOf("options","ckawesomebox");o=(""!=o?"font-size: "+o+"px;":"")+(""!=n?"color: "+n+";":"");e.setAttribute("class",a),o&&e.setAttribute("style",o),e.setAttribute("aria-hidden","true"),t.insertElement(e)}}});