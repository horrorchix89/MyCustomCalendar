!function(a){var b=function(e,d){if(void 0===a.fn.popover||void 0===a.fn.popover.Constructor.VERSION){throw new TypeError("Bootstrap iconpicker require Bootstrap popover")}this.$element=a(e),this.options=a.extend({},b.DEFAULTS,this.$element.data()),this.options=a.extend({},this.options,d)};b.VERSION="1.10.0",b.ICONSET_EMPTY={iconClass:"",iconClassFix:"",icons:[]},b.ICONSET={_custom:null,fontawesome4:a.iconset_fontawesome_4||b.ICONSET_EMPTY,fontawesome5:a.iconset_fontawesome_5||b.ICONSET_EMPTY,ionicon:a.iconset_ionicon||b.ICONSET_EMPTY},b.DEFAULTS={align:"left",arrowClass:"btn-light",arrowNextIconClass:"icon ion-ios7-arrow-forward",arrowPrevIconClass:"icon ion-ios7-arrow-back",cols:4,icon:"",iconset:"fontawesome4",iconsetVersion:"4.2.0",header:!1,labelHeader:"{0} / {1}",footer:!1,labelFooter:"{0} - {1} of {2}",placement:"bottom",rows:4,search:!0,searchText:"Search...",selectedClass:"btn-primary",unselectedClass:"btn-default"},b.prototype.bindEvents=function(){var d=this.options,f=this;d.table.find(".btn-previous, .btn-next").off("click").on("click",function(e){if(e.preventDefault(),!a(this).hasClass("disabled")){var g=parseInt(a(this).val(),10);f.changeList(d.page+g)}}),d.table.find(".btn-icon").off("click").on("click",function(e){e.preventDefault(),f.select(a(this).val()),!1===d.inline?f.$element.popover("3.x"===a.fn.bsVersion()?"destroy":"dispose"):d.table.find("i[class$='"+a(this).val()+"']").parent().addClass(d.selectedClass)}),d.table.find(".search-control").off("keyup").on("keyup",function(){f.changeList(1)})},b.prototype.changeList=function(d){this.filterIcons(),this.updateLabels(d),this.updateIcons(d),this.options.page=d,this.bindEvents()},b.prototype.filterIcons=function(){var f=this.options,e=f.table.find(".search-control").val(),g=[];if("lastest"!=f.iconsetVersion&&void 0!==b.ICONSET[f.iconset].allVersions?a.each(b.ICONSET[f.iconset].allVersions,function(h,i){f.iconsetVersion==i.version&&(g=i.icons)}):g=b.ICONSET[f.iconset].icons,""===e){f.icons=g}else{var d=[];a.each(g,function(h,i){i.toLowerCase().indexOf(e)>-1&&d.push(i)}),f.icons=d}},b.prototype.removeAddClass=function(d,f,g){return this.options.table.find(d).removeClass(f).addClass(g),g},b.prototype.reset=function(){this.updatePicker(),this.changeList(1)},b.prototype.select=function(f){var g=this.options,d=this.$element;g.selected=a.inArray(f.replace(g.iconClassFix,""),g.icons),-1===g.selected&&(g.selected=0,f=g.iconClassFix+g.icons[g.selected]),""!==f&&g.selected>=0&&(g.icon=f,!1===g.inline&&(d.find("input").val(f),d.find("i").attr("class","").addClass(g.iconClass).addClass(f)),f===g.iconClassFix?d.trigger({type:"change",icon:"empty"}):(d.trigger({type:"change",icon:f}),d.find("input").val(f)),g.table.find("button."+g.selectedClass).removeClass(g.selectedClass))},b.prototype.switchPage=function(f){var g=this.options;if(g.selected=a.inArray(f.replace(g.iconClassFix,""),g.icons),g.selected>=0){var d=Math.ceil((g.selected+1)/this.totalIconsPerPage());this.changeList(d)}""===f?g.table.find("i."+g.iconClassFix).parent().addClass(g.selectedClass):g.table.find("i."+f).parent().addClass(g.selectedClass)},b.prototype.totalPages=function(){return Math.ceil(this.totalIcons()/this.totalIconsPerPage())},b.prototype.totalIcons=function(){return this.options.icons.length},b.prototype.totalIconsPerPage=function(){return 0===this.options.rows?this.options.icons.length:this.options.cols*this.options.rows},b.prototype.updateArrows=function(d){var f=this.options,g=this.totalPages();1===d?f.table.find(".btn-previous").addClass("disabled"):f.table.find(".btn-previous").removeClass("disabled"),d===g||0===g?f.table.find(".btn-next").addClass("disabled"):f.table.find(".btn-next").removeClass("disabled")},b.prototype.updateIcons=function(q){var h=this.options,w=h.table.find("tbody").empty(),j=(q-1)*this.totalIconsPerPage(),m=h.rows;0===h.rows&&(m=h.icons.length);for(var v=0;m>v;v++){for(var f=a("<tr></tr>"),u=0;u<h.cols;u++){var g=j+v*h.cols+u,k=a('<button class="btn '+h.unselectedClass+' btn-icon"></button>').hide();if(g<h.icons.length){var t=h.iconClassFix+h.icons[g];k.val(t).attr("title",t).append('<i class="'+h.iconClass+" "+t+'"></i>').show(),h.icon===t&&k.addClass(h.selectedClass).addClass("btn-icon-selected")}f.append(a("<td></td>").append(k))}w.append(f)}},b.prototype.updateIconsCount=function(){var d=this.options;if(!0===d.footer){var f=["<tr>",'   <td colspan="'+d.cols+'" class="text-center">','       <span class="icons-count"></span>',"   </td>","</tr>"];d.table.find("tfoot").empty().append(f.join(""))}},b.prototype.updateLabels=function(f){var h=this.options,j=this.totalIcons(),g=this.totalPages();h.table.find(".page-count").html(h.labelHeader.replace("{0}",0===g?0:f).replace("{1}",g));var k=(f-1)*this.totalIconsPerPage(),d=f*this.totalIconsPerPage();h.table.find(".icons-count").html(h.labelFooter.replace("{0}",j?k+1:0).replace("{1}",j>d?d:j).replace("{2}",j)),this.updateArrows(f)},b.prototype.updatePagesCount=function(){var g=this.options;if(!0===g.header){for(var h=a("<tr></tr>"),f=0;f<g.cols;f++){var j=a('<td class="text-center"></td>');if(0===f||f===g.cols-1){var d=['<button class="btn btn-arrow '+(0===f?"btn-previous":"btn-next")+" "+g.arrowClass+'" value="'+(0===f?-1:1)+'">','<span class="'+(0===f?g.arrowPrevIconClass:g.arrowNextIconClass)+'"></span>',"</button>"];j.append(d.join("")),h.append(j)}else{0===h.find(".page-count").length&&(j.attr("colspan",g.cols-2).append('<span class="page-count"></span>'),h.append(j))}}g.table.find("thead").empty().append(h)}},b.prototype.updatePicker=function(){var d=this.options;if(d.cols<4){throw"Iconpicker => The number of columns must be greater than or equal to 4. [option.cols = "+d.cols+"]"}if(d.rows<0){throw"Iconpicker => The number of rows must be greater than or equal to 0. [option.rows = "+d.rows+"]"}this.updatePagesCount(),this.updateSearch(),this.updateIconsCount()},b.prototype.updateSearch=function(){var d=this.options,f=["<tr>",'   <td colspan="'+d.cols+'">','       <input type="text" class="form-control search-control" style="width: '+d.cols*("3.x"===a.fn.bsVersion()?39:41)+'px;" placeholder="'+d.searchText+'">',"   </td>","</tr>"];f=a(f.join("")),!0===d.search?f.show():f.hide(),d.table.find("thead").append(f)},b.prototype.setAlign=function(d){this.$element.removeClass(this.options.align).addClass(d),this.options.align=d},b.prototype.setArrowClass=function(d){this.options.arrowClass=this.removeAddClass(".btn-arrow",this.options.arrowClass,d)},b.prototype.setArrowNextIconClass=function(d){this.options.arrowNextIconClass=this.removeAddClass(".btn-next > span",this.options.arrowNextIconClass,d)},b.prototype.setArrowPrevIconClass=function(d){this.options.arrowPrevIconClass=this.removeAddClass(".btn-previous > span",this.options.arrowPrevIconClass,d)},b.prototype.setCols=function(d){this.options.cols=d,this.reset()},b.prototype.setFooter=function(d){var f=this.options.table.find("tfoot");!0===d?f.show():f.hide(),this.options.footer=d},b.prototype.setHeader=function(d){var f=this.options.table.find("thead");!0===d?f.show():f.hide(),this.options.header=d},b.prototype.setIcon=function(d){this.select(d)},b.prototype.setIconset=function(e){var d=this.options;a.isPlainObject(e)?(b.ICONSET._custom=a.extend(b.ICONSET_EMPTY,e),d.iconset="_custom"):b.ICONSET.hasOwnProperty(e)?d.iconset=e:d.iconset=b.DEFAULTS.iconset,d=a.extend(d,b.ICONSET[d.iconset]),this.reset(),this.select(d.icon)},b.prototype.setLabelHeader=function(d){this.options.labelHeader=d,this.updateLabels(this.options.page)},b.prototype.setLabelFooter=function(d){this.options.labelFooter=d,this.updateLabels(this.options.page)},b.prototype.setPlacement=function(d){this.options.placement=d},b.prototype.setRows=function(d){this.options.rows=d,this.reset()},b.prototype.setSearch=function(d){var f=this.options.table.find(".search-control");!0===d?f.show():f.hide(),f.val(""),this.changeList(1),this.options.search=d},b.prototype.setSearchText=function(d){this.options.table.find(".search-control").attr("placeholder",d),this.options.searchText=d},b.prototype.setSelectedClass=function(d){this.options.selectedClass=this.removeAddClass(".btn-icon-selected",this.options.selectedClass,d)},b.prototype.setUnselectedClass=function(d){this.options.unselectedClass=this.removeAddClass(".btn-icon",this.options.unselectedClass,d)};var c=a.fn.iconpicker;a.fn.iconpicker=function(e,d){return this.each(function(){var k=a(this),g=k.data("bs.iconpicker"),f="object"==typeof e&&e;if(g||k.data("bs.iconpicker",g=new b(this,f)),"string"==typeof e){if(void 0===g[e]){throw'Iconpicker => The "'+e+'" method does not exists.'}g[e](d)}else{var h=g.options;h=a.extend(h,{inline:!1,page:1,selected:-1,table:a('<table class="table-icons"><thead></thead><tbody></tbody><tfoot></tfoot></table>')});var j=void 0!==k.attr("name")?'name="'+k.attr("name")+'"':"";"BUTTON"===k.prop("tagName")?(k.empty().append("<i></i>").append('<input type="hidden" '+j+"></input>").append('<span class="caret"></span>').addClass("iconpicker "+("3.x"===a.fn.bsVersion()?"":"dropdown-toggle")),g.setIconset(h.iconset),k.on("click",function(i){i.preventDefault(),k.popover({animation:true,trigger:"manual",html:true,content:h.table,container:false,placement:h.placement}).on("inserted.bs.popover",function(){var l=k.data("bs.popover");("3.x"===a.fn.bsVersion()?l.tip():a(l.getTipElement())).addClass("iconpicker-popover")}).on("shown.bs.popover",function(){g.switchPage(h.icon),g.bindEvents()}),k.popover("show")})):(h.inline=!0,g.setIconset(h.iconset),k.empty().append('<input type="hidden" '+j+"></input>").append(h.table).addClass("iconpicker").addClass(h.align),g.switchPage(h.icon),g.bindEvents())}})},a.fn.iconpicker.Constructor=b,a.fn.iconpicker.noConflict=function(){return a.fn.iconpicker=c,this},a.fn.bsVersion=function(){return a.fn.popover.Constructor.VERSION.substr(0,2)+"x"},a(document).on("click","body",function(d){a(".iconpicker").each(function(){a(this).is(d.target)||0!==a(this).has(d.target).length||0!==a(".popover").has(d.target).length||a(this).popover("3.x"===a.fn.bsVersion()?"destroy":"dispose")})}),a('button[role="iconpicker"],div[role="iconpicker"]').iconpicker()}(jQuery);
